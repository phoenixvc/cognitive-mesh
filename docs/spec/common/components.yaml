components:
  schemas:
    # Pagination
    Pagination:
      type: object
      properties:
        totalItems:
          type: integer
          example: 100
        itemCount:
          type: integer
          example: 10
        itemsPerPage:
          type: integer
          example: 10
        totalPages:
          type: integer
          example: 10
        currentPage:
          type: integer
          example: 1

    # Error Response
    Error:
      type: object
      properties:
        code:
          type: string
          example: "VALIDATION_ERROR"
        message:
          type: string
          example: "Invalid input data"
        details:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
                example: "email"
              message:
                type: string
                example: "must be a valid email address"

  parameters:
    PaginationQuery:
      in: query
      name: pagination
      description: Pagination parameters for controlling page number and page size
      schema:
        type: object
        properties:
          page:
            type: integer
            minimum: 1
            default: 1
          limit:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
      style: deepObject
      explode: true

    SortQuery:
      in: query
      name: sort
      description: Sort order fields with optional direction prefix (e.g., -priority for descending)
      schema:
        type: array
        items:
          type: string
          pattern: '^[+-]?[a-zA-Z0-9_]+(\.[a-zA-Z0-9_]+)*$'
        example: ["createdAt", "-priority"]
      style: form
      explode: false
